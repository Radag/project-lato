<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,700&amp;subset=latin-ext" rel="stylesheet">
        
        <link type="text/css" rel="stylesheet" href="/lib/materialize/css/materialize.min.css"  media="screen,projection"/>
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
        <link type="text/css" rel="stylesheet" href="/css/login.css"  media="screen,projection"/>
        <script type="text/javascript" src="/lib/materialize/js/materialize.min.js"></script>
        <script type="text/javascript" src="/js/core.js"></script>
        <script type="text/javascript" src="/js/netteForms.js"></script>
        <script type="text/javascript" src="/js/nette.ajax.js"></script>
        <!--Let browser know website is optimized for mobile-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <title>{ifset title}{include title|striptags} | {/ifset}Lato</title>
    </head>
    <body>
        <header class="navbar-fixed main-nav">
            <nav>
                <div class="nav-wrapper">
                    <div id="logo"></div>
                    <div class="flex-spacer"></div>
                    <ul id="right-nav">
                        <li class="hide-on-med-and-down" n:if="$isLogged" ><a href="{plink :Front:Homepage:default}">Pokračovat</a></li>
                        <li class="hide-on-med-and-down" n:if="!$isLogged" ><a href="#login-modal" class="login-modal-trigger">Přihlásit</a></li>
                        <li class="hide-on-med-and-down"><a href="">O projektu</a></li>
                        <li class="hide-on-med-and-down"><a href="">Kontakt</a></li>
                        <li n:if="!$isLogged"><button href="#login-modal" class="btn waves-effect waves-light register-modal-trigger">Registrovat</button></li>
                        <li n:if="$isLogged"><button href="" class="btn waves-effect waves-light modal-trigger">Odhlásit</button></li>
                    </ul>
                </div>
            </nav>
        </header>
        {snippet flashMessages}
            <div id="flashMessagesWrapper" style="display:none;">
                <div n:foreach="$flashes as $key=>$flash" id="flashNum_{rand(1, 9999)}" n:class="flash" data-type="{$flash->type}">{$flash->message}</div>
            </div>
            <script>  
                $(function () {
                    latoShowUpFlashMessages();
                });
            </script>
        {/snippet}
        <header id="page-header">
            <div class="container">
                <div class="header-content">
                    <h1>Sociální síť pro studenty a učitele</h1>
                    <h2>Děláme ze školy lepší místo</h2>
                    {if !$isLogged}
                        <button href="#login-modal" class="btn waves-effect waves-light login-modal-trigger">Přihlásit</button> 
                    {else}
                        <a class="btn waves-effect waves-light" href="{plink :Front:Homepage:default}">Pokračovat</a>    
                    {/if}
                </div>
                <div class="scroll-icon">
                    <div class="mouse-outline">
                        <div class="wheel">
                        </div>
                    </div>
                </div>
            </div>
        </header>
        {include content}

        <footer id="page-footer">
            <div class="copy"><strong>lato.cz</strong> | © 2018</div>
            <div id="logo"></div>
        </footer>


        <div id="login-modal" class="modal">
            <div id="login-form-section">
                {control signInForm}
                <div class="modal-footer">
                    <a href="#" class="switch-login-form-register">Registrace</a>
                </div>
            </div>
            <div id="register-form-section" class="hide">
                {control registerForm}
                <div class="modal-footer">
                    <a href="" class="switch-login-form-login">Přihlášení</a>
                </div>
            </div>
            <div id="lost-form-section" class="hide">
                {control lostPasswordForm}
                <div class="modal-footer">
                    <a href="" class="switch-login-form-login">Přihlášení</a>
                </div>
            </div>
        </div>

        {block scripts}
        <script>
            $(function () {
                $.nette.init();
                $('.modal').modal();

                $(".login-modal-trigger").on('click', function(e){
                    $(".switch-login-form-login").click();
                    $('#login-modal').modal('open');
                });
                
                $(".register-modal-trigger").on('click', function(e){
                    $(".switch-login-form-register").click();
                    $('#login-modal').modal('open');
                });

                $(".switch-login-form-login").on('click', function (e) {
                    e.preventDefault();
                    $("#login-form-section").removeClass('hide');
                    $("#register-form-section").addClass('hide');
                    $("#lost-form-section").addClass('hide');
                });
                $(".switch-login-form-register").on('click', function (e) {
                    e.preventDefault();
                    $("#login-form-section").addClass('hide');
                    $("#register-form-section").removeClass('hide');
                    $("#lost-form-section").addClass('hide');
                });
                $(".switch-login-form-lost").on('click', function (e) {
                    e.preventDefault();
                    $("#login-form-section").addClass('hide');
                    $("#register-form-section").addClass('hide');
                    $("#lost-form-section").removeClass('hide');
                });
            });
        </script>
        {/block}
        <div id="button-loader" class="hide">
            <div class="preloader-wrapper small active" style="height: 30px; width: 30px; top: 5px; margin: 0px 20px;">
              <div class="spinner-layer spinner-blue">
                <div class="circle-clipper left">
                  <div class="circle"></div>
                </div><div class="gap-patch">
                  <div class="circle"></div>
                </div><div class="circle-clipper right">
                  <div class="circle"></div>
                </div>
              </div>

              <div class="spinner-layer spinner-red">
                <div class="circle-clipper left">
                  <div class="circle"></div>
                </div><div class="gap-patch">
                  <div class="circle"></div>
                </div><div class="circle-clipper right">
                  <div class="circle"></div>
                </div>
              </div>

              <div class="spinner-layer spinner-yellow">
                <div class="circle-clipper left">
                  <div class="circle"></div>
                </div><div class="gap-patch">
                  <div class="circle"></div>
                </div><div class="circle-clipper right">
                  <div class="circle"></div>
                </div>
              </div>

              <div class="spinner-layer spinner-green">
                <div class="circle-clipper left">
                  <div class="circle"></div>
                </div><div class="gap-patch">
                  <div class="circle"></div>
                </div><div class="circle-clipper right">
                  <div class="circle"></div>
                </div>
              </div>
            </div>
        </div>
    </body>
</html>
